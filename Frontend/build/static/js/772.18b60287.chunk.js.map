{"version":3,"file":"static/js/772.18b60287.chunk.js","mappings":"+KAmGA,UA9FA,WACI,IAgCA,GAAwBA,EAAAA,EAAAA,UAAS,IAAG,eAA7BC,EAAI,KAAEC,EAAO,KA+CpB,OA9CAC,EAAAA,EAAAA,YAAU,WACNC,EAAAA,EAAAA,IAAUC,EAAAA,IAAeC,MAAK,YAAe,IAAZC,EAAI,EAAJA,KAC7BA,EAAKC,SAAQ,SAACC,GACV,IAAIC,EAASD,EAAGE,YAAYC,QAAO,SAACC,EAAKC,GAAK,OAAMD,EAAM,KAAOC,EAAMC,IAAI,GAAG,IAC9EC,QAAQC,IAAIP,EAChB,IACA,IAAIQ,EAAO,GACXX,EAAKC,SAAQ,SAACW,EAASC,GACnBF,EAAKG,KAAK,CACNC,GAAIF,EAAQ,EACZG,aAAcJ,EAAQI,aACtBC,YAAaL,EAAQK,YAAYC,MAAM,KAAK,GAC5CC,MAAOP,EAAQQ,QAAQC,MACvBC,QAASV,EAAQR,YAAYC,QAAO,SAACC,EAAKC,GAAK,OAAMD,EAAM,IAAMC,EAAMC,IAAI,GAAG,KAItF,IAEAb,GAAQ,2BAAWgB,EAAI,GAE3B,GAqBJ,GAAG,KACHf,EAAAA,EAAAA,YAAU,WACNa,QAAQC,IAAIhB,EAChB,GAAG,CAACA,KACI,gBAAK6B,MAAO,CAAEC,OAAQ,IAAKC,MAAO,QAAS,UAC/C,SAAC,MAAQ,CACL/B,KAAMA,EACNgC,QAlFQ,CAEZ,CAAEC,MAAO,KAAMC,WAAY,KAAMH,MAAO,KACxC,CACIE,MAAO,eACPC,WAAY,gBACZH,MAAO,IACPI,UAAU,GAEd,CACIF,MAAO,cACPC,WAAY,eACZH,MAAO,IACPI,UAAU,EACVrB,KAAM,QAEV,CACImB,MAAO,QACPC,WAAY,QACZpB,KAAM,SACNiB,MAAO,IACPI,UAAU,GAEd,CACIF,MAAO,UACPC,WAAY,UAEZH,MAAO,IACPI,UAAU,IAuDVC,SAAU,IACVC,mBAAoB,CAAC,KACrBC,mBAAiB,EACjBC,yBAAuB,KAKnC,C","sources":["views/Audit.jsx"],"sourcesContent":["import { DataGrid } from '@mui/x-data-grid'\r\nimport axios from 'axios'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { AUDIT_HISTORY } from '../constants/apiConstants'\r\n\r\nfunction Audit() {\r\n    const columns = [\r\n\r\n        { field: 'id', headerName: 'ID', width: 100 },\r\n        {\r\n            field: 'mobileNumber',\r\n            headerName: 'Mobile Number',\r\n            width: 250,\r\n            editable: true,\r\n        },\r\n        {\r\n            field: 'serviceDate',\r\n            headerName: 'Service Date',\r\n            width: 250,\r\n            editable: true,\r\n            type: \"date\"\r\n        },\r\n        {\r\n            field: 'Total',\r\n            headerName: 'Total',\r\n            type: 'number',\r\n            width: 250,\r\n            editable: true,\r\n        },\r\n        {\r\n            field: 'Service',\r\n            headerName: 'Service',\r\n\r\n            width: 250,\r\n            editable: true,\r\n\r\n        },\r\n    ];\r\n    const [rows, setRows] = useState([]);\r\n    useEffect(() => {\r\n        axios.get(AUDIT_HISTORY).then(({ data }) => {\r\n            data.forEach((el) => {\r\n                let result = el.serviceType.reduce((acc, value) => (acc + \", \" + value.type), \"\")\r\n                console.log(result)\r\n            })\r\n            let temp = [];\r\n            data.forEach((element, index) => {\r\n                temp.push({\r\n                    id: index + 1,\r\n                    mobileNumber: element.mobileNumber,\r\n                    serviceDate: element.serviceDate.split(\"T\")[0],\r\n                    Total: element.invoice.total,\r\n                    Service: element.serviceType.reduce((acc, value) => (acc + \" \" + value.type), \"\")\r\n\r\n                })\r\n\r\n            }\r\n            );\r\n            setRows(() => ([...temp]))\r\n\r\n        })\r\n\r\n\r\n        // {\r\n        //     \"invoice\": {\r\n        //         \"tax\": 27,\r\n        //         \"total\": 177\r\n        //     },\r\n        //     \"_id\": \"63a6cc37fb909be1b3037f9e\",\r\n        //     \"mobileNumber\": 967546789,\r\n        //     \"serviceDate\": \"2022-12-24T00:00:00.000Z\",\r\n        //     \"serviceBy\": \"Boobalan\",\r\n        //     \"serviceType\": [\r\n        //         {\r\n        //             \"type\": \"HAIRCUT\",\r\n        //             \"price\": 150,\r\n        //             \"_id\": \"63a6cc37fb909be1b3037f9f\"\r\n        //         }\r\n        //     ],\r\n        //     \"__v\": 0\r\n        // }\r\n    }, [])\r\n    useEffect(() => {\r\n        console.log(rows)\r\n    }, [rows])\r\n    return (<div style={{ height: 400, width: '100%' }}>\r\n        <DataGrid\r\n            rows={rows}\r\n            columns={columns}\r\n            pageSize={100}\r\n            rowsPerPageOptions={[100]}\r\n            checkboxSelection\r\n            disableSelectionOnClick\r\n        />\r\n    </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Audit"],"names":["useState","rows","setRows","useEffect","axios","AUDIT_HISTORY","then","data","forEach","el","result","serviceType","reduce","acc","value","type","console","log","temp","element","index","push","id","mobileNumber","serviceDate","split","Total","invoice","total","Service","style","height","width","columns","field","headerName","editable","pageSize","rowsPerPageOptions","checkboxSelection","disableSelectionOnClick"],"sourceRoot":""}